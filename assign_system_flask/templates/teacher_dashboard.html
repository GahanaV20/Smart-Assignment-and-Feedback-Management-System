{% extends "base.html" %}
{% block title %}Teacher Dashboard{% endblock %}

{% block content %}

<style>

/* ========= PAGE THEME ========= */
body{
    background:#e9f3ff; /* soft blue background (same theme as create form) */
}

/* Assignment Cards */
.card-teach{
    background:white;
    border-radius:12px;
    border:1px solid #86a5db;
    box-shadow:0px 3px 12px rgba(0,0,0,0.06);
    transition:0.25s ease;
}
.card-teach:hover{
    transform:translateY(-6px);
    box-shadow:0px 10px 24px rgba(0,0,0,0.12);
}

/* Deadline label */
.tag-deadline{
    background:#d9e9ff;
    color:#0856b5;
    font-size:12px;
    padding:5px 12px;
    font-weight:600;
    border-radius:8px;
}

/* View + Delete Buttons */
.btn-view{
    background:#2f6fed;
    color:#fff;
    border-radius:6px;
    padding:6px 14px;
    border:none;
}
.btn-view:hover{ background:#1b52bd; }

.btn-del{
    background:#ff6b6b;
    color:#fff;
    border-radius:6px;
    padding:6px 14px;
    border:none;
}
.btn-del:hover{ background:#d64545; }

/* Create Assignment Button */
.btn-create{
    background:#2575e6;
    color:white;
    border-radius:8px;
    padding:10px 18px;
    font-weight:600;
    border:none;
}
.btn-create:hover{
    background:#195ab0;
}

/* Animation on buttons */
.action-btns button{
    transition:.25s;
}
.action-btns button:hover{
    transform:scale(1.06);
}

</style>



<!-- ================= HEADER ================= -->
<div class="d-flex justify-content-between align-items-center mb-4 pt-3">
    <div>
        <h2 class="fw-bold mb-0">Teacher Dashboard</h2>
        <div class="text-muted small">Create assignments â€¢ Track submissions â€¢ Evaluate quizzes</div>
    </div>

    <a href="{{ url_for('create_assignment') }}" class="btn-create">
        + Create Assignment
    </a>
</div>




<!-- ================= GRID ================= -->
<div class="row mt-3">
{% if assignments %}
    {% for a in assignments %}
    <div class="col-lg-6 col-12 mb-4">
        <div class="card-teach p-4">

            <h5 class="fw-bold">{{ a.title }}</h5>
            <p class="text-muted small mb-3">{{ a.description[:150] }}{% if a.description|length>150 %}...{% endif %}</p>

            <span class="tag-deadline">Deadline: {{ a.deadline }}</span>
            <div class="text-muted small mt-1">Created: {{ a.created_at }}</div>

            <div class="d-flex justify-content-between align-items-center mt-4 action-btns">
                
                <a href="{{ url_for('view_submissions', assignment_id=a.assignment_id) }}">
                    <button class="btn-view">ðŸ“„ View Submissions</button>
                </a>

                <a href="{{ url_for('delete_assignment', assignment_id=a.assignment_id) }}"
                   onclick="return confirm('âš  Are you sure to delete? This cannot be undone.')">
                    <button class="btn-del">ðŸ—‘ Delete</button>
                </a>
            </div>
        </div>
    </div>
    {% endfor %}


{% else %}
<!-- Empty State -->
<div class="col-12 text-center" style="margin-top:10vh;">
    <img src="https://cdn-icons-png.flaticon.com/512/4076/4076549.png" width="100">
    <h4 class="mt-3 fw-bold">No Assignments Available Yet</h4>
    <p class="text-muted">Start by creating your first assignment.</p>
    <a href="{{ url_for('create_assignment') }}" class="btn-create">+ Create Now</a>
</div>
{% endif %}
</div>



{% endblock %}
